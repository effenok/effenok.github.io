---
layout: post title:  "d2sim.rs Project Log"
date:   2021-09-18 21:02:06 +0000 categories:
---

I am trying to start doing this blog, and also do some coding, so I thought of a rust project. I want to build a library
for discrete event simulation similar to OmNet++, and then use it to show how to implement routing protocols. Here is my
developer log.

I am now actually on day 16 and counting. I am just busy doing more important stuff than writing this log. {: class="
note"}

## day 1

well, day one obviously consisted of

```
sudo apt install rustc 
```

and

```
GET /book HTTP/1.1
https://www.rust-lang.org/
```

Actually, I installed an Ubuntu VM for programming and installed [i3](https://i3wm.org/) on it. i3 is a lightweight minimalistic window 
manager. I have to say, i kinda like it, at least for a VM. 

If I was installing something on a host computer I would 
probably install a full featured desktop environment. Installing all necessary parts, like clock, calendar, 
notifications, screenshot manager would take too much time. Also, if i install all KDE applications, how much am I 
saving by not installing KDE? 

I also found several simulation libraries. The most promising is simrs [simrs](https://github.com/elshize/simrs), 
which will probably serve as a base for the simulation library.

## day 2

I made it to chapter 6 in [Rust book](https://www.rust-lang.org/book). Frankly speaking it would be nice if there was a
book targeted people familiar with C/C++. I know that I will find a lot if I actually google, but there is something
special in official doc.

I have read through the chapter on stack and heap. This was a point at which I was so glad I knew what stack and heap
actually are and what is the difference between allocating objects on stack and on heap. Followed this, I am struggling
to understand when objects are created, copied, and moved. Well, i guess I am not a good C++ programmer either ...

## day 3

** todo **

## day 4

Today I finally managed to write a code that actually compiles and runs. And this code was test code. Yey me, hello
test!

Today I also ran into my first problem with Rust borrow-checker.

```Rust
impl Simulaton {
    fn initialize(&mut self) {
        for p in self.components.values_mut() {
            // need to pass mutable reference to Simulation, so that
            // p can access scheduler to send messages
            p.initialize(self);
        }
    }
```

The problem that I encounter over and over and over again. I do get the idea of borrow checker with multi-threaded code.
But my code is not multithreaded, I have less use for borrow checker. But i have a lot of use to having more than one
mutable reference for the same code.

Here borrow checker does make some sence, p should not be able to change other components, so here the work-around was
justified. But the next one ...

Today I also started to write a copy of the library code. I cannot possibly do anything with traits and generics before
I understand how they actually work. It will be easier this way.

## day 5
